(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const s="link-saver-data";function d(){const t=localStorage.getItem(s);return t?JSON.parse(t):[]}function L(t){const e=d(),n={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return e.push(n),localStorage.setItem(s,JSON.stringify(e)),n}function E(t,e){const n=d(),l=n.findIndex(o=>o.id===t);return l!==-1?(n[l]={...n[l],...e},localStorage.setItem(s,JSON.stringify(n)),n[l]):null}function b(t){const n=d().filter(l=>l.id!==t);localStorage.setItem(s,JSON.stringify(n))}const m=document.getElementById("link-grid"),B=document.getElementById("add-link-btn"),r=document.getElementById("link-modal"),g=document.getElementById("link-form"),h=document.getElementById("cancel-btn"),f=document.getElementById("modal-title"),a=document.getElementById("link-id"),p=document.getElementById("link-name"),y=document.getElementById("link-url"),v=document.getElementById("link-logo");function u(){const t=d();m.innerHTML="",t.forEach(e=>{const n=document.createElement("div");n.className="link-card",n.innerHTML=`
      <div class="card-actions">
        <button class="icon-btn edit-btn" title="Edit">✎</button>
        <button class="icon-btn delete-btn" title="Delete">✖</button>
      </div>
      <button class="logo-btn" title="${e.name}">
        <img src="${e.logoUrl}" alt="${e.name}" onerror="this.src='https://via.placeholder.com/80?text=?'">
      </button>
      <div class="link-name">${e.name}</div>
    `,n.querySelector(".logo-btn").addEventListener("click",()=>{window.open(e.url,"_blank")}),n.querySelector(".edit-btn").addEventListener("click",c=>{c.stopPropagation(),k(e)}),n.querySelector(".delete-btn").addEventListener("click",c=>{c.stopPropagation(),confirm(`Are you sure you want to delete "${e.name}"?`)&&(b(e.id),u())}),m.appendChild(n)})}function k(t=null){t?(f.textContent="Edit Link",a.value=t.id,p.value=t.name,y.value=t.url,v.value=t.logoUrl):(f.textContent="Add New Link",g.reset(),a.value=""),r.showModal()}function I(){r.close()}B.addEventListener("click",()=>k());h.addEventListener("click",I);g.addEventListener("submit",t=>{t.preventDefault();const e={name:p.value,url:y.value,logoUrl:v.value},n=a.value;n?E(n,e):L(e),I(),u()});r.addEventListener("click",t=>{const e=r.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||r.close()});u();
